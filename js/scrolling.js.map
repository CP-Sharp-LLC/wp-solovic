{"version":3,"sources":["../../../../../../../../../disk3/code/dev.susansolovic.com/wp-content/themes/solovic/js/scrolling.es6"],"names":[],"mappings":";;AAAA;;AAEA,SAAS,iBAAT,GAA6B;AAC5B,KAAM,OAAO,SAAS,IAAtB;AACA,KAAM,OAAO,SAAS,eAAtB;;AAEA,QAAO,KAAK,GAAL,CACN,KAAK,YADC,EACa,KAAK,YADlB,EAEN,KAAK,YAFC,EAEa,KAAK,YAFlB,EAEgC,KAAK,YAFrC,CAAP;AAIA;;AAED,SAAS,YAAT,GAAwB;AACvB,QAAQ,OAAO,WAAP,KAAuB,SAAxB,GAAqC,OAAO,WAA5C,GAA0D,CAAC,SAAS,eAAT,IAA4B,SAAS,IAAT,CAAc,UAA1C,IAAwD,SAAS,IAAlE,EAAwE,SAAzI;AACA;;AAED,SAAS,eAAT,GAA2B;AAC1B,KAAM,OAAO,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,OAAO,gBAAlC,CAAb;AACA,KAAM,QAAQ,IAAI,KAAJ,EAAd;AACA,OAAM,SAAN,GAAkB,8DAAlB;AACA,OAAM,GAAN,GAAY,wCAAwC,IAApD;;AAEA,OAAM,MAAN,GAAe,YAAW;AACzB,QAAM,SAAN,CAAgB,MAAhB,CAAuB,oCAAvB;AACA,EAFD;;AAIA,QAAO,KAAP;AACA;;AAED,SAAS,UAAT,GAAsB;AACrB,KAAM,eAAe,iBAArB;AACA,KAAM,UAAU,SAAS,aAAT,CAAuB,SAAvB,CAAhB;AACA,SAAQ,SAAR,GAAoB,oBAApB;AACA,SAAQ,WAAR,CAAoB,YAApB;;AAEA,QAAO,OAAP;AACA;;AAED,SAAS,cAAT,CAAwB,IAAxB,EAAoD;AAAA,KAAtB,eAAsB,yDAAJ,EAAI;;AACnD,KAAM,cAAc,SAAS,aAAT,CAAuB,KAAvB,CAApB;AACA,aAAY,EAAZ,GAAiB,UAAU,IAAV,CAAjB;AACA,aAAY,SAAZ,GAAwB,oBAAxB;;AAEA,QAAO,iBAAP,EAA0B;AACzB,cAAY,WAAZ,CAAwB,YAAxB;AACA;;AAED,QAAO,WAAP;AACA;;AAED,SAAS,iBAAT,CAA2B,IAA3B,EAAiC;AAChC,KAAM,WAAW,SAAS,aAAT,CAAuB,GAAvB,CAAjB;AACA,UAAS,IAAT,GAAgB,MAAM,UAAU,IAAV,CAAtB;AACA,UAAS,SAAT,GAAqB,IAArB;;AAEA,KAAM,WAAW,SAAS,aAAT,CAAuB,IAAvB,CAAjB;AACA,UAAS,SAAT,GAAqB,gCAArB;AACA,UAAS,WAAT,CAAqB,QAArB;;AAEA,uBAAsB,WAAtB,CAAkC,QAAlC;;AAEA,KAAI,SAAS,CAAb,EAAgB;AACf,wBAAsB,SAAtB,CAAgC,MAAhC,CAAuC,oCAAvC;AACA;AACD;;AAED,SAAS,SAAT,CAAmB,IAAnB,EAAyB;AACxB,aAAY,WAAZ,CAAwB,eAAe,IAAf,CAAxB;AACA;;AAED,SAAS,OAAT,CAAiB,IAAjB,EAAuB;AACtB,WAAU,IAAV;AACA,mBAAkB,IAAlB;AACA;;AAED,SAAS,iBAAT,GAA4B;AAC3B,KAAM,eAAe,SAAS,cAAT,CAAwB,cAAxB,CAArB;AACA,KAAM,wBAAwB,SAAS,cAAT,CAAwB,yBAAxB,CAA9B;;AAEA,KAAI,OAAO,CAAX;;AAEA,QAAO,kBAAkB,CAAzB;;AAEA,UAAS,SAAT,CAAmB,CAAnB,EAAsB,CAErB;AACD;;AAED,EAAE,QAAF,EAAY,KAAZ,CAAkB,YAAU;AAC3B,KAAI,OAAO,CAAX;;AAEA,SAAQ,EAAE,IAAV;;AAEA,GAAE,MAAF,EAAU,QAAV,GAAqB,YAAW;AAC/B,MAAI,iBAAiB,sBAAsB,OAAO,WAAlD,EAA+D;AAC/D,UAAQ,EAAE,IAAV;AACA,EAHD;AAIA,CATD","file":"scrolling.js","sourcesContent":["// import * as Math from \"lodash\";\n\nfunction getDocumentHeight() {\n\tconst body = document.body;\n\tconst html = document.documentElement;\n\n\treturn Math.max(\n\t\tbody.scrollHeight, body.offsetHeight,\n\t\thtml.clientHeight, html.scrollHeight, html.offsetHeight\n\t);\n};\n\nfunction getScrollTop() {\n\treturn (window.pageYOffset !== undefined) ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n}\n\nfunction getArticleImage() {\n\tconst hash = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);\n\tconst image = new Image;\n\timage.className = 'article-list__item__image article-list__item__image--loading';\n\timage.src = 'http://api.adorable.io/avatars/250/' + hash;\n\n\timage.onload = function() {\n\t\timage.classList.remove('article-list__item__image--loading');\n\t};\n\n\treturn image;\n}\n\nfunction getArticle() {\n\tconst articleImage = getArticleImage();\n\tconst article = document.createElement('article');\n\tarticle.className = 'article-list__item';\n\tarticle.appendChild(articleImage);\n\n\treturn article;\n}\n\nfunction getArticlePage(page, articlesPerPage = 16) {\n\tconst pageElement = document.createElement('div');\n\tpageElement.id = getPageId(page);\n\tpageElement.className = 'article-list__page';\n\n\twhile (articlesPerPage--) {\n\t\tpageElement.appendChild(getArticle());\n\t}\n\n\treturn pageElement;\n}\n\nfunction addPaginationPage(page) {\n\tconst pageLink = document.createElement('a');\n\tpageLink.href = '#' + getPageId(page);\n\tpageLink.innerHTML = page;\n\n\tconst listItem = document.createElement('li');\n\tlistItem.className = 'article-list__pagination__item';\n\tlistItem.appendChild(pageLink);\n\n\tarticleListPagination.appendChild(listItem);\n\n\tif (page === 2) {\n\t\tarticleListPagination.classList.remove('article-list__pagination--inactive');\n\t}\n}\n\nfunction fetchPage(page) {\n\tarticleList.appendChild(getArticlePage(page));\n}\n\nfunction addPage(page) {\n\tfetchPage(page);\n\taddPaginationPage(page);\n}\n\nfunction scrolling_manager(){\n\tconst everlongList = document.getElementById('article-list');\n\tconst articleListPagination = document.getElementById('article-list-pagination');\n\n\tlet page = 1;\n\n\treturn 'article-page-' + n;\n\n\tfunction getPageId(n) {\n\n\t}\n}\n\n$(document).ready(function(){\n\tlet page = 0;\n\n\taddPage(++page);\n\n\t$(window).onscroll = function() {\n\t\tif (getScrollTop() < getDocumentHeight() - window.innerHeight) return;\n\t\taddPage(++page);\n\t};\n});\n\n"]}